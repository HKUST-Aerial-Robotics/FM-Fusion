{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "MapMerger",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceRoot}/build/cpp/MapMerger",
            "args": [
                "--config","${workspaceRoot}/config/realsense.yaml",
                "--map_folder",
                "/data2/sgslam/val_swap",
                "--scene_name","gfloor"
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "GenerateGT",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/dataset/scannetv2/generate_gt_association.py",
            "args": [
                "--dataroot","/data2/ScanNet",
                "--graphroot","/data2/ScanNetGraph",
                "--split","val",
                "--split_file","val",
                "--min_iou","0.3",
                // "--debug_mode",
                "--min_matches","4"
            ],
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "GraphMatch",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/cpp/GraphMatchNode",
            "args": [
                "--config",
                "${workspaceFolder}/config/scannet.yaml",
                "--root",
                "/data2/ScanNet",
                "--src_sequence",
                "scene0064_00a",
                "--tar_sequence",
                "scene0064_00b"
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "IntegrateInstanceMap",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/cpp/IntegrateInstanceMap",
            "args": [
                "--verbose","2",
                "--config",
                "${workspaceFolder}/config/realsense.yaml",
                "--root",
                // "/data2/matterport3d/v1/scans/EU6Fwq7SyZv",
                "/data2/sgslam/scans/uc0110_00c",
                // "/data2/3rscan_raw/10b17957-3938-2467-88a5-9e9254930dad",
                "--prediction",
                "prediction_no_augment",
                // "--association","data_association.txt",
                // "--trajectory","trajectory.log",
                // "--max_frames","500",
                // "--save_gap","50000",
                "--frame_gap","2",
                // "--subseq","c",
                "--output",
                "/data2/sgslam/val_swap"
                // "--global_tsdf"
                // "/data2/matterport3d/val",
                // "/data2/ScanNetGraph/train"
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "IntegrateRGBD",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/cpp/IntegrateRGBD",
            "args": [
                "--root",
                // "/data2/r3live/scans/hkust_campus_01_r3live",
                "/data2/sgslam/scans/uc0101_00a",
                // "/data2/ScanNet/val/scene0011_01",
                // "/data2/matterport3d/v1/scans/8194nk5LbLH",
                // "/data2/3rscan_raw/c12890d8-d3df-2d0d-87cc-da303a47b893",
                "--max_frames","3600",
                "--intrinsic","intrinsic",
                "--depth_scale","1000",
                "--max_depth","3.0",
                "--resolution","256",
                // "--save_pointcloud",
                "--save_mesh",
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "DenseMapping",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/scripts/dense_mapping.py",
            "console": "integratedTerminal",
            "args": [
                "--data_root",
                "/data2/FusionPortable",
                // "/data2/ScanNet",
                // "/data2/scenenn",
                "--prior_model",
                // "${workspaceFolder}/measurement_model/hardcode",
                "${workspaceFolder}/measurement_model/bayesian",
                "--output_folder",
                "elephant",
                "--prediction_folder",
                // "pred_maskrcnn",
                // "prediction_no_augment",
                "prediction_forward_new",
                "--split",
                "val",
                "--split_file",
                "val_tmp"
            ],
            "justMyCode": true
        },
        {
            "name": "SemanticMappingNode",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/python/semantic_mapping.py",
            "console": "integratedTerminal",
            "args": [
                "--data_root",
                // "/data2/scenenn",
                "/data2/ScanNet",
                // "/data2/FusionPortable",
                "--prior_model",
                "${workspaceFolder}/measurement_model/hardcode",
                "--output_folder",
                "mrcnn_finetune",
                "--prediction_folder",
                // "prediction_no_augment",
                // "prediction_vaug5",
                "pred_maskrcnn_refined",
                "--split",
                "val",
                "--split_file",
                "val_clean"
            ],
            "justMyCode": true
        },
        {
            "name": "PostFusion",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/python/postfuse.py",
            "console": "integratedTerminal",
            "args": [
                "--dataroot",
                "/data2/ScanNet",
                // "/data2/scenenn",
                "--split_file",
                "val_clean",
                "--debug_folder",
                "mrcnn_finetune",
                "--prior_model",
                "hardcode",
                "--measurement_dir",
                "${workspaceFolder}/measurement_model"
            ],
            "justMyCode": true
        },
        {
            "name": "C/C++: g++ build and debug active file",
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}/${fileBasenameNoExtension}",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C/C++: g++ build active file",
            "miDebuggerPath": "/usr/bin/gdb"
        }
    ]
}