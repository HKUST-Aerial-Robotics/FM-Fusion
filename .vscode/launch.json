{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "EvalLoop",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceRoot}/scripts/eval_loop.py",
            "console": "integratedTerminal",
            "args": [
                        "--consider_iou",
                        "--run_mode","online",
                        "--rmse_threshold","0.2",
                        // "--dense","false",
                        "--split_file","multi_agent.txt",
                        "--output_folder",
                        "/data2/sgslam/output/v9"
                    ]
        },
        {
            "name": "MapMerger",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceRoot}/build/cpp/MapMerger",
            "args": [
                "--config",
                "${workspaceRoot}/config/realsense.yaml",
                "--map_folder",
                // "/data2/sgslam/val_swap",
                "/media/lch/SeagateExp/bag/sgslam/val_swap",
                "--visualization",
                "--scene_name",
                "gfloor"
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "TestLoop",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceRoot}/build/cpp/TestLoop",
            // "env":{"LD_LIBRARY_PATH":"/usr/local/cuda/lib64:/usr/local/lib"},
            "args": [
                "--config",
                "${workspaceRoot}/config/realsense.yaml",
                "--weights_folder",
                "${workspaceRoot}/torchscript",
                "--ref_scene",
                "/data2/sgslam/val/uc0115_00b",
                // "/data2/RioGraph/val/scene0107_00c",
                "--src_scene",
                "/data2/sgslam/val/uc0115_00a",
                // "/data2/RioGraph/val/scene0107_00a",
                "--prune_instance",
                "--n_iter","1",
                "--init_src", "/data2/sgslam/val/uc0110_00a",
                "--init_ref", "/data2/sgslam/val/uc0110_00c",
                // "--cuda_number","1",
                // "--debug","test bert",
                "--dense_match",
                "--output_folder",
                "/data2/sgslam/output/coarse_register",
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        /*
        {
            "name": "GenerateGT",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/dataset/scannetv2/generate_gt_association.py",
            "args": [
                "--dataroot","/data2/ScanNet",
                "--graphroot","/data2/ScanNetGraph",
                "--split","val",
                "--split_file","val",
                "--min_iou","0.3",
                // "--debug_mode",
                "--min_matches","4"
            ],
            "console": "integratedTerminal",
            "justMyCode": true
        },
        */
        {
            "name": "IntegrateInstanceMap",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/cpp/IntegrateInstanceMap",
            "args": [
                "--verbose",
                "2",
                "--config",
                "${workspaceFolder}/config/realsense.yaml",
                "--root",
                // "/data2/matterport3d/v1/scans/EU6Fwq7SyZv",
                "/data2/sgslam/scans/ab0201_03c",
                // "/data2/3rscan_raw/10b17957-3938-2467-88a5-9e9254930dad",
                "--prediction",
                "prediction_no_augment",
                // "--association","data_association.txt",
                // "--trajectory","trajectory.log",
                "--max_frames","2000",
                "--frame_gap",
                "2",
                // "--subseq","c",
                // "--save_frame_instances","1",
                "--output",
                "/data2/sgslam/output/online_mapping",
                // "--global_tsdf"
                // "/data2/sgslam/val",
                // "/data2/ScanNetGraph/train"
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "IntegrateRGBD",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/cpp/IntegrateRGBD",
            "args": [
                "--root",
                // "/data2/r3live/scans/hkust_campus_01_r3live",
                "/data2/sgslam/scans/ab0401_00b",
                // "/data2/ScanNet/val/scene0011_01",
                // "/data2/matterport3d/v1/scans/8194nk5LbLH",
                // "/data2/3rscan_raw/c12890d8-d3df-2d0d-87cc-da303a47b893",
                // "--output",
                // "/data2/sgslam/output/online_mapping",
                "--max_frames",
                "3600",
                "--intrinsic",
                "intrinsic",
                "--depth_scale",
                "1000",
                "--max_depth",
                "4.0",
                "--resolution",
                "256",
                // "--save_pointcloud",
                "--save_mesh",
            ],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        /*
        {
            "name": "DenseMapping",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/scripts/dense_mapping.py",
            "console": "integratedTerminal",
            "args": [
                "--data_root",
                "/data2/FusionPortable",
                // "/data2/ScanNet",
                // "/data2/scenenn",
                "--prior_model",
                // "${workspaceFolder}/measurement_model/hardcode",
                "${workspaceFolder}/measurement_model/bayesian",
                "--output_folder",
                "elephant",
                "--prediction_folder",
                // "pred_maskrcnn",
                // "prediction_no_augment",
                "prediction_forward_new",
                "--split",
                "val",
                "--split_file",
                "val_tmp"
            ],
            "justMyCode": true
        },
        */
        /*
        {
            "name": "SemanticMappingNode",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/python/semantic_mapping.py",
            "console": "integratedTerminal",
            "args": [
                "--data_root",
                // "/data2/scenenn",
                "/data2/ScanNet",
                // "/data2/FusionPortable",
                "--prior_model",
                "${workspaceFolder}/measurement_model/hardcode",
                "--output_folder",
                "mrcnn_finetune",
                "--prediction_folder",
                // "prediction_no_augment",
                // "prediction_vaug5",
                "pred_maskrcnn_refined",
                "--split",
                "val",
                "--split_file",
                "val_clean"
            ],
            "justMyCode": true
        },
        */
        /*
        {
            "name": "PostFusion",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/python/postfuse.py",
            "console": "integratedTerminal",
            "args": [
                "--dataroot",
                "/data2/ScanNet",
                // "/data2/scenenn",
                "--split_file",
                "val_clean",
                "--debug_folder",
                "mrcnn_finetune",
                "--prior_model",
                "hardcode",
                "--measurement_dir",
                "${workspaceFolder}/measurement_model"
            ],
            "justMyCode": true
        },
        */
    ]
}