<launch>

  <!-- <arg name="dataroot" value="/data2/sgslam"/>
  <arg name="ref_scene" value="uc0110_00a"/>
  <arg name="src_scene" value="uc0110_00c"/> -->
  <arg name="dataroot" value="/data2/ScanNetGraph"/>
  <arg name="ref_scene" value="scene0025_00c"/>
  <arg name="src_scene" value="scene0025_00a"/>

  <group ns="viz">
    <param name="edge_width" value="0.03"/>
    <param name="edge_color/r" value="0.0"/>
    <param name="edge_color/g" value="1.0"/>
    <param name="edge_color/b" value="1.0"/>
    <param name="centroid_size" value="0.3"/>
  </group>

  <node pkg="sgloop_ros" name="OfflineLoop" type="OfflineLoop" output="screen">
    <param name="cfg_file" value="/home/cliuci/code_ws/OpensetFusion/config/realsense.yaml"/>
    <param name="weights_folder" value="/home/cliuci/code_ws/OpensetFusion/torchscript"/>
    <param name="prune_instances" value="true"/>
    <param name="output_folder" value="$(arg dataroot)/output/sgloop"/>
    <param name="ref_scene_dir" value="$(arg dataroot)/val/$(arg ref_scene)"/>
    <param name="src_scene_dir" value="$(arg dataroot)/val/$(arg src_scene)"/>
    <param name="gt_file" value="$(arg dataroot)/matches_text/$(arg src_scene)-$(arg ref_scene).txt"/>
    <param name="visualization" value="1"/>
  </node>

  <node pkg="tf" type="static_transform_publisher" name="link_before_loop" args="0 0 3 0 0 0 1 world local 100" />

</launch>
